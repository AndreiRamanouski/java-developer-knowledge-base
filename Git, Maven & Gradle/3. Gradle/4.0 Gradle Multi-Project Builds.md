## Overview

Multi-project builds (also called multi-module builds) allow you to organize large applications into smaller, manageable modules. Each module can have its own dependencies, tasks, and configuration while sharing common build logic.

```
┌─────────────────────────────────────────────────────────────────┐
│              MULTI-PROJECT BUILD STRUCTURE                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Root Project                                                   │
│  ├── settings.gradle (defines structure)                       │
│  ├── build.gradle (shared configuration)                       │
│  │                                                              │
│  ├── Subproject A                                               │
│  │   ├── build.gradle (specific config)                        │
│  │   └── src/                                                   │
│  │                                                              │
│  ├── Subproject B                                               │
│  │   ├── build.gradle (specific config)                        │
│  │   ├── depends on A                                          │
│  │   └── src/                                                   │
│  │                                                              │
│  └── Subproject C                                               │
│      ├── build.gradle (specific config)                        │
│      ├── depends on A, B                                       │
│      └── src/                                                   │
│                                                                 │
│  Build Order (automatically determined):                        │
│  A → B → C                                                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 1. Project Structure

### 1.1 Basic Multi-Project Layout

```
my-application/
├── settings.gradle              # Defines project structure
├── build.gradle                 # Root project configuration
├── gradle/
│   └── wrapper/
│       ├── gradle-wrapper.jar
│       └── gradle-wrapper.properties
├── gradlew
├── gradlew.bat
│
├── api/                         # Module A
│   ├── build.gradle
│   └── src/
│       ├── main/java/
│       └── test/java/
│
├── core/                        # Module B
│   ├── build.gradle
│   └── src/
│       ├── main/java/
│       └── test/java/
│
└── web/                         # Module C
    ├── build.gradle
    └── src/
        ├── main/java/
        └── test/java/
```

---

### 1.2 Nested Subprojects

```
enterprise-app/
├── settings.gradle
├── build.gradle
│
├── platform/                    # Parent module
│   ├── build.gradle
│   ├── platform-api/            # Nested subproject
│   │   ├── build.gradle
│   │   └── src/
│   └── platform-core/           # Nested subproject
│       ├── build.gradle
│       └── src/
│
├── services/                    # Parent module
│   ├── build.gradle
│   ├── user-service/            # Nested subproject
│   │   ├── build.gradle
│   │   └── src/
│   └── order-service/           # Nested subproject
│       ├── build.gradle
│       └── src/
│
└── web-app/
    ├── build.gradle
    └── src/
```

---

### 1.3 Real-World Example Structure

```
e-commerce-platform/
├── settings.gradle
├── build.gradle
│
├── buildSrc/                    # Custom build logic
│   ├── build.gradle
│   └── src/main/groovy/
│
├── common/                      # Shared utilities
│   ├── common-utils/
│   │   └── build.gradle
│   └── common-domain/
│       └── build.gradle
│
├── platform/                    # Core platform
│   ├── platform-api/
│   │   └── build.gradle
│   └── platform-impl/
│       └── build.gradle
│
├── services/                    # Microservices
│   ├── user-service/
│   │   └── build.gradle
│   ├── product-service/
│   │   └── build.gradle
│   └── order-service/
│       └── build.gradle
│
├── web/                         # Frontend applications
│   ├── admin-web/
│   │   └── build.gradle
│   └── customer-web/
│       └── build.gradle
│
└── integration-tests/           # Integration tests
    └── build.gradle
```

---

## 2. settings.gradle Configuration

### 2.1 Basic Configuration

```groovy
// settings.gradle

// Root project name
rootProject.name = 'my-application'

// Include subprojects
include 'api'
include 'core'
include 'web'

// Alternative syntax (multiple at once)
include 'api', 'core', 'web'
```

---

### 2.2 Nested Subprojects

```groovy
// settings.gradle

rootProject.name = 'enterprise-app'

// Flat structure
include 'platform-api'
include 'platform-core'
include 'user-service'

// Nested structure (with colons)
include 'platform:platform-api'
include 'platform:platform-core'
include 'services:user-service'
include 'services:order-service'

// Or using directories
include 'platform-api'
project(':platform-api').projectDir = file('platform/platform-api')

include 'platform-core'
project(':platform-core').projectDir = file('platform/platform-core')
```

---

### 2.3 Advanced Configuration

```groovy
// settings.gradle

rootProject.name = 'my-application'

// Include with custom names
include 'api'
include 'core'
include 'web'

// Rename project
project(':api').name = 'my-api'

// Set custom project directory
project(':core').projectDir = file('modules/core-module')

// Conditional inclusion
if (file('experimental-feature').exists()) {
    include 'experimental-feature'
}

// Include from different directory
includeBuild 'composite-build-project'

// Plugin management
pluginManagement {
    repositories {
        gradlePluginPortal()
        mavenCentral()
    }
    
    plugins {
        id 'org.springframework.boot' version '3.2.0'
        id 'io.spring.dependency-management' version '1.1.4'
    }
}

// Dependency resolution management
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    
    repositories {
        mavenCentral()
        google()
    }
    
    versionCatalogs {
        libs {
            from(files('gradle/libs.versions.toml'))
        }
    }
}
```

---

### 2.4 Dynamic Project Discovery

```groovy
// settings.gradle

rootProject.name = 'my-application'

// Include all subdirectories as projects
rootDir.listFiles().each { dir ->
    if (dir.isDirectory() && 
        new File(dir, 'build.gradle').exists() &&
        dir.name != 'buildSrc') {
        include dir.name
    }
}

// Include projects matching pattern
file('services').listFiles().each { serviceDir ->
    if (serviceDir.isDirectory() && 
        new File(serviceDir, 'build.gradle').exists()) {
        include "services:${serviceDir.name}"
    }
}
```

---

## 3. Root build.gradle Configuration

### 3.1 Basic Shared Configuration

```groovy
// build.gradle (root)

plugins {
    id 'java' apply false  // Don't apply to root, only subprojects
}

// Configuration for ALL projects (including root)
allprojects {
    group = 'com.example'
    version = '1.0.0-SNAPSHOT'
    
    repositories {
        mavenCentral()
    }
}

// Configuration for subprojects only (not root)
subprojects {
    apply plugin: 'java'
    apply plugin: 'jacoco'
    
    java {
        sourceCompatibility = JavaVersion.VERSION_17
        targetCompatibility = JavaVersion.VERSION_17
    }
    
    dependencies {
        // Common dependencies for all modules
        testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
        testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    }
    
    test {
        useJUnitPlatform()
    }
}
```

---

### 3.2 Conditional Configuration

```groovy
// build.gradle (root)

subprojects {
    apply plugin: 'java'
    
    // Configure only Spring Boot projects
    if (name.endsWith('-service')) {
        apply plugin: 'org.springframework.boot'
        apply plugin: 'io.spring.dependency-management'
        
        dependencies {
            implementation 'org.springframework.boot:spring-boot-starter-web'
        }
    }
    
    // Configure only library projects
    if (project.path.startsWith(':libs')) {
        apply plugin: 'java-library'
    }
    
    // Configure by project group
    if (project.group == 'com.example.services') {
        dependencies {
            implementation 'org.springframework.boot:spring-boot-starter-actuator'
        }
    }
}
```

---

### 3.3 Configuration by Project Name

```groovy
// build.gradle (root)

subprojects {
    apply plugin: 'java'
}

// Configure specific project
project(':api') {
    apply plugin: 'java-library'
    
    dependencies {
        api 'org.slf4j:slf4j-api:2.0.9'
    }
}

// Configure multiple specific projects
configure([project(':user-service'), project(':order-service')]) {
    apply plugin: 'org.springframework.boot'
    
    dependencies {
        implementation 'org.springframework.boot:spring-boot-starter-web'
        implementation project(':api')
    }
}

// Configure projects matching criteria
configure(subprojects.findAll { it.name.endsWith('-service') }) {
    dependencies {
        implementation 'org.springframework.boot:spring-boot-starter-actuator'
    }
}
```

---

### 3.4 Dependency Management

```groovy
// build.gradle (root)

plugins {
    id 'io.spring.dependency-management' version '1.1.4' apply false
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'io.spring.dependency-management'
    
    dependencyManagement {
        imports {
            mavenBom 'org.springframework.boot:spring-boot-dependencies:3.2.0'
            mavenBom 'org.springframework.cloud:spring-cloud-dependencies:2023.0.0'
        }
        
        dependencies {
            dependency 'com.google.guava:guava:32.1.3-jre'
            dependency 'org.apache.commons:commons-lang3:3.13.0'
        }
    }
}
```

---

### 3.5 Custom Tasks for All Projects

```groovy
// build.gradle (root)

subprojects {
    apply plugin: 'java'
    
    // Add custom task to all subprojects
    task printProjectName {
        doLast {
            println "Project: ${project.name}"
        }
    }
    
    // Configure existing tasks
    tasks.withType(Test) {
        maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
        testLogging {
            events "passed", "skipped", "failed"
        }
    }
}

// Root-level task that depends on subproject tasks
task buildAll {
    dependsOn subprojects.collect { it.tasks.matching { task -> task.name == 'build' } }
}
```

---

## 4. Inter-Project Dependencies

### 4.1 Basic Project Dependencies

```groovy
// user-service/build.gradle

dependencies {
    // Depend on another subproject
    implementation project(':api')
    implementation project(':common-utils')
    
    // External dependencies
    implementation 'org.springframework.boot:spring-boot-starter-web'
}
```

---

### 4.2 Dependency Graph

```
┌─────────────────────────────────────────────────────────┐
│            PROJECT DEPENDENCY GRAPH                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  common-utils (no dependencies)                         │
│       ↑                                                 │
│       │                                                 │
│  api (depends on common-utils)                          │
│       ↑                ↑                                │
│       │                │                                │
│  user-service    order-service                          │
│       ↑                ↑                                │
│       │                │                                │
│       └────────┬───────┘                                │
│                │                                        │
│           web-app                                       │
│                                                         │
│  Build Order:                                           │
│  1. common-utils                                        │
│  2. api                                                 │
│  3. user-service, order-service (parallel)              │
│  4. web-app                                             │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

### 4.3 Transitive Dependencies

```groovy
// api/build.gradle
plugins {
    id 'java-library'
}

dependencies {
    // Exposed to consumers
    api 'org.slf4j:slf4j-api:2.0.9'
    
    // NOT exposed to consumers
    implementation 'com.google.guava:guava:32.1.3-jre'
}

// user-service/build.gradle
dependencies {
    implementation project(':api')
    
    // Can use SLF4J (from api)
    // Cannot use Guava (from implementation)
}
```

---

### 4.4 Specific Configuration Dependencies

```groovy
// consumer/build.gradle

dependencies {
    // Default configuration (runtimeElements)
    implementation project(':producer')
    
    // Specific configuration
    implementation project(path: ':producer', configuration: 'runtimeElements')
    
    // Custom configuration
    testImplementation project(path: ':producer', configuration: 'testArtifacts')
}

// producer/build.gradle
configurations {
    testArtifacts
}

artifacts {
    testArtifacts testJar
}

task testJar(type: Jar) {
    archiveClassifier = 'tests'
    from sourceSets.test.output
}
```

---

### 4.5 Avoiding Circular Dependencies

```groovy
// ✗ BAD: Circular dependency
// module-a/build.gradle
dependencies {
    implementation project(':module-b')
}

// module-b/build.gradle
dependencies {
    implementation project(':module-a')  // ✗ Circular!
}

// ✓ GOOD: Extract common code
// common/build.gradle
dependencies {
    // Shared dependencies
}

// module-a/build.gradle
dependencies {
    implementation project(':common')
}

// module-b/build.gradle
dependencies {
    implementation project(':common')
}
```

---

## 5. Subproject Configuration

### 5.1 API Module (Library)

```groovy
// api/build.gradle

plugins {
    id 'java-library'
}

dependencies {
    // Public API (exposed to consumers)
    api 'org.slf4j:slf4j-api:2.0.9'
    api 'javax.validation:validation-api:2.0.1.Final'
    
    // Implementation details (not exposed)
    implementation 'org.apache.commons:commons-lang3:3.13.0'
    
    // Compile-time only
    compileOnly 'org.projectlombok:lombok:1.18.30'
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
}

// Publishing configuration
publishing {
    publications {
        maven(MavenPublication) {
            from components.java
        }
    }
}
```

---

### 5.2 Service Module (Application)

```groovy
// user-service/build.gradle

plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'
}

dependencies {
    // Project dependencies
    implementation project(':api')
    implementation project(':common-utils')
    
    // Spring Boot
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    
    // Database
    runtimeOnly 'org.postgresql:postgresql'
    
    // Testing
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation project(':api')
}

// Spring Boot configuration
springBoot {
    mainClass = 'com.example.user.UserServiceApplication'
}

bootJar {
    archiveBaseName = 'user-service'
    archiveVersion = project.version
}
```

---

### 5.3 Common/Shared Module

```groovy
// common-utils/build.gradle

plugins {
    id 'java-library'
}

dependencies {
    // Utilities available to all consumers
    api 'com.google.guava:guava:32.1.3-jre'
    api 'org.apache.commons:commons-lang3:3.13.0'
    
    // Logging
    api 'org.slf4j:slf4j-api:2.0.9'
    
    // Testing utilities
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
    testImplementation 'org.assertj:assertj-core:3.24.2'
}
```

---

### 5.4 Web Application Module

```groovy
// web-app/build.gradle

plugins {
    id 'java'
    id 'war'
    id 'org.springframework.boot' version '3.2.0'
}

dependencies {
    // Backend services
    implementation project(':user-service')
    implementation project(':order-service')
    
    // Spring Boot
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
    
    // Provided by servlet container
    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'
}

war {
    archiveBaseName = 'web-app'
    archiveVersion = project.version
}
```

---

## 6. Build Execution

### 6.1 Building the Entire Project

```bash
# Build all modules
./gradlew build

# Build specific module
./gradlew :user-service:build

# Build multiple modules
./gradlew :api:build :user-service:build

# Clean and build all
./gradlew clean build

# Build in parallel
./gradlew build --parallel
```

---

### 6.2 Task Execution

```bash
# Run task in all subprojects
./gradlew test

# Run task in specific subproject
./gradlew :user-service:test

# Run task in multiple subprojects
./gradlew :api:test :user-service:test

# List tasks for specific project
./gradlew :user-service:tasks
```

---

### 6.3 Selective Building

```bash
# Build only specified project (no dependencies)
./gradlew :user-service:build

# Build project and its dependencies (-a = also)
./gradlew :user-service:build -a

# Build dependent projects too
./gradlew :api:build --include-build
```

---

### 6.4 Dependency Analysis

```bash
# View all project dependencies
./gradlew projects

# View dependency tree for specific project
./gradlew :user-service:dependencies

# View inter-project dependencies
./gradlew :user-service:dependencies --configuration implementation

# Visual dependency tree
./gradlew :user-service:dependencyInsight --dependency :api
```

---

## 7. Advanced Patterns

### 7.1 Convention Plugin (buildSrc)

**buildSrc/build.gradle:**

```groovy
plugins {
    id 'groovy-gradle-plugin'
}

repositories {
    gradlePluginPortal()
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-gradle-plugin:3.2.0'
}
```

**buildSrc/src/main/groovy/java-conventions.gradle:**

```groovy
// Common Java configuration
plugins {
    id 'java'
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

test {
    useJUnitPlatform()
}
```

**buildSrc/src/main/groovy/spring-boot-conventions.gradle:**

```groovy
// Spring Boot service configuration
plugins {
    id 'java-conventions'
    id 'org.springframework.boot'
    id 'io.spring.dependency-management'
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
```

**Using Convention Plugins:**

```groovy
// user-service/build.gradle
plugins {
    id 'spring-boot-conventions'
}

dependencies {
    implementation project(':api')
}

// Only service-specific configuration needed!
springBoot {
    mainClass = 'com.example.user.UserServiceApplication'
}
```

---

### 7.2 Composite Builds

```groovy
// settings.gradle

rootProject.name = 'my-application'

// Include local builds
includeBuild 'shared-library'
includeBuild 'plugin-project'

// Regular subprojects
include 'api', 'core', 'web'
```

**Benefits:**

```
✓ Develop dependencies alongside main project
✓ No need to publish to repository
✓ Live changes reflected immediately
✓ Faster development cycle
```

---

### 7.3 Version Catalogs for Multi-Project

**gradle/libs.versions.toml:**

```toml
[versions]
spring-boot = "3.2.0"
junit = "5.10.0"
guava = "32.1.3-jre"

[libraries]
spring-boot-web = { group = "org.springframework.boot", name = "spring-boot-starter-web", version.ref = "spring-boot" }
spring-boot-data = { group = "org.springframework.boot", name = "spring-boot-starter-data-jpa", version.ref = "spring-boot" }
guava = { group = "com.google.guava", name = "guava", version.ref = "guava" }
junit-jupiter = { group = "org.junit.jupiter", name = "junit-jupiter", version.ref = "junit" }

[bundles]
spring-boot-common = ["spring-boot-web", "spring-boot-data"]

[plugins]
spring-boot = { id = "org.springframework.boot", version.ref = "spring-boot" }
```

**settings.gradle:**

```groovy
dependencyResolutionManagement {
    versionCatalogs {
        libs {
            from(files('gradle/libs.versions.toml'))
        }
    }
}
```

**Using in subprojects:**

```groovy
// user-service/build.gradle
dependencies {
    implementation libs.bundles.spring.boot.common
    testImplementation libs.junit.jupiter
}
```

---

### 7.4 Test Fixtures

```groovy
// api/build.gradle
plugins {
    id 'java-library'
    id 'java-test-fixtures'
}

dependencies {
    api 'org.slf4j:slf4j-api:2.0.9'
    
    testFixturesImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
}

// user-service/build.gradle
dependencies {
    implementation project(':api')
    
    // Use test fixtures from api
    testImplementation testFixtures(project(':api'))
}
```

---

## 8. Best Practices

### 8.1 Module Organization

```
✓ Keep modules focused and cohesive
✓ Follow single responsibility principle
✓ Extract common code to shared modules
✓ Use java-library plugin for API modules
✓ Use application plugin for executable modules
✓ Minimize inter-module dependencies
✓ Avoid circular dependencies
```

---

### 8.2 Dependency Management

```groovy
// build.gradle (root)

// ✓ GOOD: Centralized version management
subprojects {
    apply plugin: 'java'
    
    ext {
        springBootVersion = '3.2.0'
        guavaVersion = '32.1.3-jre'
    }
}

// Or use platform/BOM
subprojects {
    dependencies {
        implementation platform('org.springframework.boot:spring-boot-dependencies:3.2.0')
    }
}

// ✗ BAD: Version in each subproject
// user-service/build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
}

// order-service/build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
}
```

---

### 8.3 Configuration Reuse

```groovy
// build.gradle (root)

// Define common configuration
ext {
    javaVersion = JavaVersion.VERSION_17
}

subprojects {
    apply plugin: 'java'
    
    java {
        sourceCompatibility = rootProject.ext.javaVersion
        targetCompatibility = rootProject.ext.javaVersion
    }
    
    repositories {
        mavenCentral()
    }
}

// Group-specific configuration
def serviceProjects = [project(':user-service'), project(':order-service')]

configure(serviceProjects) {
    apply plugin: 'org.springframework.boot'
    
    dependencies {
        implementation 'org.springframework.boot:spring-boot-starter-actuator'
    }
}
```

---

### 8.4 Gradle Properties

**gradle.properties:**

```properties
# Project settings
version=1.0.0-SNAPSHOT
group=com.example

# Java settings
org.gradle.java.home=/path/to/jdk-17

# Performance
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.daemon=true
org.gradle.configureondemand=true

# Memory
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m
```

---

## 9. Complete Example

### 9.1 E-commerce Platform

**settings.gradle:**

```groovy
rootProject.name = 'ecommerce-platform'

include 'common:common-domain'
include 'common:common-utils'

include 'platform:platform-api'
include 'platform:platform-core'

include 'services:user-service'
include 'services:product-service'
include 'services:order-service'

include 'web:admin-web'
include 'web:customer-web'
```

**build.gradle (root):**

```groovy
plugins {
    id 'java' apply false
    id 'org.springframework.boot' version '3.2.0' apply false
    id 'io.spring.dependency-management' version '1.1.4' apply false
}

allprojects {
    group = 'com.example.ecommerce'
    version = '1.0.0-SNAPSHOT'
    
    repositories {
        mavenCentral()
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'io.spring.dependency-management'
    
    java {
        sourceCompatibility = JavaVersion.VERSION_17
        targetCompatibility = JavaVersion.VERSION_17
    }
    
    dependencyManagement {
        imports {
            mavenBom 'org.springframework.boot:spring-boot-dependencies:3.2.0'
        }
    }
    
    dependencies {
        compileOnly 'org.projectlombok:lombok:1.18.30'
        annotationProcessor 'org.projectlombok:lombok:1.18.30'
        
        testImplementation 'org.junit.jupiter:junit-jupiter'
        testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    }
    
    test {
        useJUnitPlatform()
    }
}

// Configure library projects
configure(subprojects.findAll { it.path.startsWith(':common') || 
                                 it.path.startsWith(':platform') }) {
    apply plugin: 'java-library'
}

// Configure service projects
configure(subprojects.findAll { it.path.startsWith(':services') || 
                                 it.path.startsWith(':web') }) {
    apply plugin: 'org.springframework.boot'
    
    dependencies {
        implementation 'org.springframework.boot:spring-boot-starter-web'
        implementation 'org.springframework.boot:spring-boot-starter-actuator'
        
        testImplementation 'org.springframework.boot:spring-boot-starter-test'
    }
}
```

**common-domain/build.gradle:**

```groovy
dependencies {
    api 'javax.validation:validation-api:2.0.1.Final'
}
```

**platform-api/build.gradle:**

```groovy
dependencies {
    api project(':common:common-domain')
    api 'org.slf4j:slf4j-api'
}
```

**user-service/build.gradle:**

```groovy
dependencies {
    implementation project(':platform:platform-api')
    implementation project(':common:common-utils')
    
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    runtimeOnly 'org.postgresql:postgresql'
}

springBoot {
    mainClass = 'com.example.ecommerce.user.UserServiceApplication'
}
```

---

## Summary

### Multi-Project Build Checklist

```
✓ Define structure in settings.gradle
✓ Configure shared logic in root build.gradle
✓ Use subprojects for common configuration
✓ Use allprojects sparingly
✓ Declare inter-project dependencies with project()
✓ Use java-library for API modules
✓ Extract common configuration to convention plugins
✓ Use version catalogs for dependency management
✓ Avoid circular dependencies
✓ Keep modules focused and cohesive
```

### Essential Commands

```bash
# List all projects
./gradlew projects

# Build all projects
./gradlew build

# Build specific project
./gradlew :user-service:build

# Build with dependencies
./gradlew :user-service:build -a

# View dependencies
./gradlew :user-service:dependencies

# Parallel build
./gradlew build --parallel

# Build from specific project
./gradlew :user-service:bootJar
```

### Project Structure Best Practices

```
Root
├── common/          → Shared libraries
├── platform/        → Core platform
├── services/        → Microservices
├── web/             → Web applications
└── integration-tests/  → E2E tests

Keep modules:
✓ Independent
✓ Focused
✓ Reusable
✓ Well-documented
```
