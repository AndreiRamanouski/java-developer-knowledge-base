## Overview

Following Gradle best practices ensures reproducible builds, optimal performance, maintainable code, and a smooth developer experience. These practices are derived from real-world experience and official Gradle recommendations.

```
┌─────────────────────────────────────────────────────────────────┐
│                  GRADLE BEST PRACTICES                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. GRADLE WRAPPER                                              │
│     ✓ Commit wrapper to repository                             │
│     ✓ Consistent Gradle version                                │
│     ✓ No manual installation needed                            │
│                                                                 │
│  2. DEPENDENCY MANAGEMENT                                       │
│     ✓ Centralized version management                           │
│     ✓ Dependency locking                                       │
│     ✓ Regular updates                                          │
│     ✓ Version catalogs                                         │
│                                                                 │
│  3. BUILD SCRIPT ORGANIZATION                                   │
│     ✓ Clean build.gradle                                       │
│     ✓ Convention plugins in buildSrc                           │
│     ✓ Separation of concerns                                   │
│     ✓ Reusable configuration                                   │
│                                                                 │
│  4. PERFORMANCE OPTIMIZATION                                    │
│     ✓ Parallel builds                                          │
│     ✓ Build cache                                              │
│     ✓ Configuration cache                                      │
│     ✓ Proper task inputs/outputs                               │
│                                                                 │
│  5. PROJECT STRUCTURE                                           │
│     ✓ Standard layouts                                         │
│     ✓ Logical module organization                              │
│     ✓ Clear dependencies                                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 1. Gradle Wrapper Best Practices

### 1.1 Always Commit Wrapper

**What to Commit:**

```bash
# ✓ COMMIT these files
git add gradle/wrapper/gradle-wrapper.jar
git add gradle/wrapper/gradle-wrapper.properties
git add gradlew
git add gradlew.bat

# Verify files are tracked
git ls-files | grep gradle

# Output:
# gradle/wrapper/gradle-wrapper.jar
# gradle/wrapper/gradle-wrapper.properties
# gradlew
# gradlew.bat
```

**.gitignore Configuration:**

```
# Gradle
.gradle/
build/
!gradle/wrapper/gradle-wrapper.jar
!gradle/wrapper/gradle-wrapper.properties

# Ignore distribution downloads
gradle/wrapper/dists/

# Keep wrapper scripts
!gradlew
!gradlew.bat
```

**Why Commit Wrapper:**

```
✓ Consistent Gradle version across team
✓ No manual Gradle installation needed
✓ CI/CD works without setup
✓ New developers can build immediately
✓ Easy to upgrade (update wrapper, commit, everyone gets update)
```

---

### 1.2 Keep Wrapper Updated

```bash
# Check current version
./gradlew --version

# Update wrapper to specific version
./gradlew wrapper --gradle-version 8.5

# Update to latest release
./gradlew wrapper --gradle-version latest

# Use all distribution (includes sources)
./gradlew wrapper --gradle-version 8.5 --distribution-type all

# Commit the update
git add gradle/wrapper/
git commit -m "Update Gradle wrapper to 8.5"
```

**gradle-wrapper.properties:**

```properties
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.5-bin.zip
networkTimeout=10000
validateDistributionUrl=true
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
```

---

### 1.3 Wrapper Security

**Validate Distribution URL:**

```properties
# gradle-wrapper.properties
validateDistributionUrl=true  # Ensures URL is from gradle.org
```

**Use Checksum Verification:**

```bash
# Gradle automatically verifies SHA-256 checksum
# No additional configuration needed
```

**Custom Distribution (Company Mirror):**

```properties
# Only if you have a trusted internal mirror
distributionUrl=https\://nexus.company.com/gradle/gradle-8.5-bin.zip
```

---

## 2. Dependency Management Best Practices

### 2.1 Centralized Version Management

**✗ BAD: Versions Scattered Everywhere**

```groovy
// module-a/build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
    implementation 'com.google.guava:guava:32.1.3-jre'
}

// module-b/build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'  // Duplicate!
    implementation 'com.google.guava:guava:32.1.3-jre'  // Duplicate!
}
```

**✓ GOOD: Version Catalog**

```toml
# gradle/libs.versions.toml
[versions]
spring-boot = "3.2.0"
guava = "32.1.3-jre"
junit = "5.10.0"

[libraries]
spring-boot-web = { group = "org.springframework.boot", name = "spring-boot-starter-web", version.ref = "spring-boot" }
spring-boot-data = { group = "org.springframework.boot", name = "spring-boot-starter-data-jpa", version.ref = "spring-boot" }
guava = { group = "com.google.guava", name = "guava", version.ref = "guava" }
junit-jupiter = { group = "org.junit.jupiter", name = "junit-jupiter", version.ref = "junit" }

[bundles]
spring-boot = ["spring-boot-web", "spring-boot-data"]

[plugins]
spring-boot = { id = "org.springframework.boot", version.ref = "spring-boot" }
```

```groovy
// settings.gradle
dependencyResolutionManagement {
    versionCatalogs {
        libs {
            from(files('gradle/libs.versions.toml'))
        }
    }
}

// build.gradle
dependencies {
    implementation libs.spring.boot.web
    implementation libs.guava
    testImplementation libs.junit.jupiter
}
```

**Benefits:**

```
✓ Single source of truth
✓ Type-safe accessors
✓ IDE autocomplete
✓ Easy to update versions
✓ Shared across modules
```

---

### 2.2 Platform/BOM for Version Alignment

```groovy
// Root build.gradle
subprojects {
    apply plugin: 'java'
    apply plugin: 'io.spring.dependency-management'
    
    dependencyManagement {
        imports {
            mavenBom 'org.springframework.boot:spring-boot-dependencies:3.2.0'
            mavenBom 'org.springframework.cloud:spring-cloud-dependencies:2023.0.0'
            mavenBom 'com.fasterxml.jackson:jackson-bom:2.15.3'
        }
        
        dependencies {
            dependency 'com.google.guava:guava:32.1.3-jre'
            dependency 'org.apache.commons:commons-lang3:3.13.0'
        }
    }
}

// Subproject build.gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'  // No version!
    implementation 'com.google.guava:guava'  // No version!
}
```

---

### 2.3 Dependency Locking

**Enable Dependency Locking:**

```groovy
// build.gradle
dependencyLocking {
    lockAllConfigurations()
}
```

```bash
# Generate lock files
./gradlew dependencies --write-locks

# Update single dependency
./gradlew dependencies --update-locks org.springframework.boot:spring-boot-starter-web

# Build with locked dependencies
./gradlew build  # Uses locked versions

# Verify lock files are current
./gradlew buildEnvironment --write-verification-metadata sha256
```

**Commit Lock Files:**

```bash
git add gradle.lockfile
# or
git add gradle/dependency-locks/

git commit -m "Lock dependencies"
```

**Benefits:**

```
✓ Reproducible builds
✓ Same versions everywhere
✓ Security (review changes)
✓ Prevent unexpected updates
```

---

### 2.4 Regular Dependency Updates

**Use Versions Plugin:**

```groovy
plugins {
    id 'com.github.ben-manes.versions' version '0.50.0'
}

tasks.named('dependencyUpdates').configure {
    rejectVersionIf {
        isNonStable(it.candidate.version)
    }
}

def isNonStable(String version) {
    def stableKeyword = ['RELEASE', 'FINAL', 'GA'].any { 
        version.toUpperCase().contains(it) 
    }
    def regex = /^[0-9,.v-]+(-r)?$/
    return !stableKeyword && !(version ==~ regex)
}
```

```bash
# Check for updates
./gradlew dependencyUpdates

# Output shows available updates:
# The following dependencies have later release versions:
#  - org.springframework.boot:spring-boot-starter-web [3.1.5 -> 3.2.0]
#  - com.google.guava:guava [32.1.3-jre -> 33.0.0-jre]
```

**Update Strategy:**

```
Weekly:  Check for patch updates (3.2.0 -> 3.2.1)
Monthly: Check for minor updates (3.2.0 -> 3.3.0)
Quarterly: Consider major updates (3.x -> 4.x)
```

---

### 2.5 Dependency Best Practices

**Use Appropriate Configurations:**

```groovy
dependencies {
    // ✓ GOOD: implementation for internal dependencies
    implementation 'com.google.guava:guava:32.1.3-jre'
    
    // ✓ GOOD: api only for library public API
    api 'org.slf4j:slf4j-api:2.0.9'
    
    // ✓ GOOD: compileOnly for annotations
    compileOnly 'org.projectlombok:lombok:1.18.30'
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
    
    // ✓ GOOD: runtimeOnly for drivers
    runtimeOnly 'org.postgresql:postgresql:42.6.0'
    
    // ✗ BAD: Don't use compile (deprecated)
    // compile 'com.google.guava:guava:32.1.3-jre'
}
```

**Avoid Dynamic Versions:**

```groovy
// ✗ BAD: Dynamic versions (not reproducible)
dependencies {
    implementation 'com.google.guava:guava:32.+'
    implementation 'org.springframework.boot:spring-boot-starter-web:latest.release'
}

// ✓ GOOD: Fixed versions
dependencies {
    implementation 'com.google.guava:guava:32.1.3-jre'
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
}
```

---

## 3. Build Script Organization

### 3.1 Clean build.gradle

**✗ BAD: Cluttered build.gradle**

```groovy
// Everything in one file - hard to maintain
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.0'
}

group = 'com.example'
version = '1.0.0'

repositories {
    mavenCentral()
}

dependencies {
    // 50+ lines of dependencies
}

// Custom task logic (100+ lines)
task customTask {
    // Complex logic here
}

// More configuration (200+ lines)
```

**✓ GOOD: Organized Structure**

```
project/
├── build.gradle                  (Clean, delegates to plugins)
├── settings.gradle               (Project structure)
├── gradle.properties             (Build configuration)
├── buildSrc/                     (Convention plugins)
│   ├── build.gradle
│   └── src/main/groovy/
│       ├── java-conventions.gradle
│       ├── spring-boot-conventions.gradle
│       └── testing-conventions.gradle
└── gradle/
    └── libs.versions.toml        (Dependency versions)
```

```groovy
// build.gradle - Clean and simple
plugins {
    id 'java-conventions'
    id 'spring-boot-conventions'
}

dependencies {
    implementation libs.spring.boot.web
    implementation libs.spring.boot.data
    
    testImplementation libs.bundles.testing
}
```

---

### 3.2 Convention Plugins (buildSrc)

**buildSrc/build.gradle:**

```groovy
plugins {
    id 'groovy-gradle-plugin'
}

repositories {
    gradlePluginPortal()
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-gradle-plugin:3.2.0'
    implementation 'io.spring.gradle:dependency-management-plugin:1.1.4'
}
```

**buildSrc/src/main/groovy/java-conventions.gradle:**

```groovy
// Java configuration for all projects
plugins {
    id 'java'
}

java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

repositories {
    mavenCentral()
}

dependencies {
    // Common dependencies
    compileOnly 'org.projectlombok:lombok:1.18.30'
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
    
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
    options.compilerArgs += [
        '-Xlint:unchecked',
        '-Xlint:deprecation',
        '-parameters'
    ]
}

test {
    useJUnitPlatform()
    
    maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
    
    testLogging {
        events "passed", "skipped", "failed"
        exceptionFormat "full"
    }
}
```

**buildSrc/src/main/groovy/spring-boot-conventions.gradle:**

```groovy
// Spring Boot configuration
plugins {
    id 'java-conventions'
    id 'org.springframework.boot'
    id 'io.spring.dependency-management'
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
    
    developmentOnly 'org.springframework.boot:spring-boot-devtools'
    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'
    
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

springBoot {
    buildInfo()
}

bootJar {
    layered {
        enabled = true
    }
}
```

**Usage:**

```groovy
// Any subproject
plugins {
    id 'spring-boot-conventions'
}

// All common configuration applied automatically!
// Just add project-specific dependencies
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
}
```

**Benefits:**

```
✓ Reusable across projects
✓ Clean build.gradle files
✓ Centralized configuration
✓ Type-safe (compiled)
✓ Easy to test
```

---

### 3.3 Separation of Concerns

**settings.gradle - Project Structure:**

```groovy
rootProject.name = 'my-application'

include 'common'
include 'domain'
include 'service'
include 'web'

pluginManagement {
    repositories {
        gradlePluginPortal()
        mavenCentral()
    }
}

dependencyResolutionManagement {
    versionCatalogs {
        libs {
            from(files('gradle/libs.versions.toml'))
        }
    }
}

buildCache {
    local {
        enabled = true
    }
}
```

**gradle.properties - Build Configuration:**

```properties
# Project
group=com.example
version=1.0.0-SNAPSHOT

# Java
org.gradle.java.installations.auto-detect=true

# Performance
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.daemon=true
org.gradle.configuration-cache=true
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m

# Console
org.gradle.console=rich
org.gradle.warning.mode=all
```

**build.gradle - Dependencies and Tasks:**

```groovy
plugins {
    id 'java-conventions'
}

dependencies {
    implementation libs.spring.boot.web
}
```

---

## 4. Performance Best Practices

### 4.1 Optimal gradle.properties

```properties
# gradle.properties - Performance Optimized

# ===== DAEMON =====
org.gradle.daemon=true
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8

# ===== PARALLEL EXECUTION =====
org.gradle.parallel=true
org.gradle.workers.max=4

# ===== BUILD CACHE =====
org.gradle.caching=true

# ===== CONFIGURATION CACHE =====
org.gradle.configuration-cache=true
org.gradle.configuration-cache.problems=warn

# ===== FILE WATCHING =====
org.gradle.vfs.watch=true

# ===== KOTLIN (if using Kotlin) =====
kotlin.incremental=true
kotlin.caching.enabled=true
kotlin.parallel.tasks.in.project=true

# ===== CONSOLE =====
org.gradle.console=rich
org.gradle.warning.mode=all
```

**Memory Recommendations:**

```
Small projects (1-5 modules):
  -Xmx512m -XX:MaxMetaspaceSize=256m

Medium projects (5-20 modules):
  -Xmx1g -XX:MaxMetaspaceSize=512m

Large projects (20-50 modules):
  -Xmx2g -XX:MaxMetaspaceSize=512m

Enterprise projects (50+ modules):
  -Xmx4g -XX:MaxMetaspaceSize=1g
```

---

### 4.2 Proper Task Inputs/Outputs

```groovy
// ✗ BAD: No inputs/outputs declared
task processFiles {
    doLast {
        // Processing logic
        file('input.txt').text.toUpperCase()
    }
}
// Always executes, never UP-TO-DATE

// ✓ GOOD: Inputs/outputs declared
abstract class ProcessFilesTask extends DefaultTask {
    @InputFile
    File inputFile
    
    @OutputFile
    File outputFile
    
    @TaskAction
    void process() {
        outputFile.text = inputFile.text.toUpperCase()
    }
}

task processFiles(type: ProcessFilesTask) {
    inputFile = file('input.txt')
    outputFile = file("${buildDir}/output.txt")
}
// First run: EXECUTED
// No changes: UP-TO-DATE
// Changed input: EXECUTED
```

---

### 4.3 Build Cache Configuration

```groovy
// settings.gradle
buildCache {
    local {
        enabled = true
        directory = file("${rootDir}/.gradle/build-cache")
        removeUnusedEntriesAfterDays = 30
    }
    
    remote(HttpBuildCache) {
        url = System.getenv('BUILD_CACHE_URL')
        enabled = url != null
        push = System.getenv('CI') != null
        
        credentials {
            username = System.getenv('BUILD_CACHE_USERNAME')
            password = System.getenv('BUILD_CACHE_PASSWORD')
        }
    }
}
```

---

### 4.4 Avoid Configuration-Time Work

```groovy
// ✗ BAD: Work at configuration time
def gitHash = 'git rev-parse HEAD'.execute().text.trim()  // Runs every time!

task showGitHash {
    doLast {
        println gitHash
    }
}

// ✓ GOOD: Lazy evaluation
def gitHash = providers.exec {
    commandLine 'git', 'rev-parse', 'HEAD'
}.standardOutput.asText.map { it.trim() }

task showGitHash {
    doLast {
        println gitHash.get()  // Executes only when task runs
    }
}
```

---

## 5. Project Structure Best Practices

### 5.1 Standard Directory Layout

```
✓ GOOD: Follow conventions
my-project/
├── gradle/
│   └── wrapper/
├── src/
│   ├── main/
│   │   ├── java/
│   │   └── resources/
│   └── test/
│       ├── java/
│       └── resources/
├── build.gradle
├── settings.gradle
├── gradle.properties
├── gradlew
└── gradlew.bat

✗ BAD: Custom structure (requires configuration)
my-project/
├── source/           # Should be src/main/java
├── tests/            # Should be src/test/java
└── config/           # Should be src/main/resources
```

---

### 5.2 Multi-Module Organization

```
✓ GOOD: Logical grouping
enterprise-app/
├── settings.gradle
├── build.gradle
├── buildSrc/
├── common/
│   ├── common-domain/
│   └── common-utils/
├── services/
│   ├── user-service/
│   ├── order-service/
│   └── payment-service/
└── web/
    ├── admin-web/
    └── customer-web/

✗ BAD: Flat structure (hard to navigate)
enterprise-app/
├── module1/
├── module2/
├── module3/
├── ... (50 modules)
└── module50/
```

---

### 5.3 Clear Module Dependencies

```groovy
// ✓ GOOD: Clear dependency hierarchy
// common → domain → service → web

// common/build.gradle
dependencies {
    api 'org.apache.commons:commons-lang3'
}

// domain/build.gradle
dependencies {
    api project(':common')
    api 'javax.validation:validation-api'
}

// service/build.gradle
dependencies {
    implementation project(':domain')
    implementation 'org.springframework.boot:spring-boot-starter-web'
}

// ✗ BAD: Circular dependencies
// service → web → service (circular!)
```

---

## 6. Testing Best Practices

### 6.1 Test Configuration

```groovy
test {
    useJUnitPlatform()
    
    // Parallel execution
    maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
    
    // Test logging
    testLogging {
        events "passed", "skipped", "failed", "standardError"
        exceptionFormat "full"
        showCauses true
        showStackTraces true
    }
    
    // Reports
    reports {
        html.required = true
        junitXml.required = true
    }
    
    // Fail fast
    failFast = false
    
    // Retry failed tests
    retry {
        maxRetries = 3
        maxFailures = 20
    }
}

// Separate integration tests
task integrationTest(type: Test) {
    useJUnitPlatform {
        includeTags 'integration'
    }
    
    shouldRunAfter test
}

check.dependsOn integrationTest
```

---

### 6.2 Test Dependencies

```groovy
dependencies {
    // Test framework
    testImplementation 'org.junit.jupiter:junit-jupiter'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    
    // Assertions
    testImplementation 'org.assertj:assertj-core'
    
    // Mocking
    testImplementation 'org.mockito:mockito-core'
    testImplementation 'org.mockito:mockito-junit-jupiter'
    
    // Spring Boot testing
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    
    // Testcontainers
    testImplementation 'org.testcontainers:testcontainers'
    testImplementation 'org.testcontainers:junit-jupiter'
    testImplementation 'org.testcontainers:postgresql'
}
```

---

## 7. Security Best Practices

### 7.1 Secrets Management

```groovy
// ✗ BAD: Hardcoded credentials
buildCache {
    remote(HttpBuildCache) {
        username = 'admin'  // ✗ Don't hardcode!
        password = 'secret123'  // ✗ Don't hardcode!
    }
}

// ✓ GOOD: Environment variables
buildCache {
    remote(HttpBuildCache) {
        username = System.getenv('BUILD_CACHE_USERNAME')
        password = System.getenv('BUILD_CACHE_PASSWORD')
    }
}

// ✓ GOOD: gradle.properties (in ~/.gradle/, not committed)
// ~/.gradle/gradle.properties
buildCacheUsername=admin
buildCachePassword=secret123

// build.gradle
buildCache {
    remote(HttpBuildCache) {
        username = findProperty('buildCacheUsername')
        password = findProperty('buildCachePassword')
    }
}
```

---

### 7.2 Dependency Verification

```bash
# Generate checksums
./gradlew --write-verification-metadata sha256

# Creates gradle/verification-metadata.xml
# Commit this file to verify dependencies
```

---

## 8. Documentation Best Practices

### 8.1 README.md

````markdown
# Project Name

## Build

```bash
# Build project
./gradlew build

# Run application
./gradlew bootRun

# Run tests
./gradlew test
````

## Requirements

- Java 17+
- Docker (for integration tests)

## Project Structure

- `common/` - Shared utilities
- `domain/` - Domain models
- `service/` - Business logic
- `web/` - REST API

## Configuration

```bash
# Development
./gradlew bootRun --args='--spring.profiles.active=dev'

# Production
java -jar build/libs/app.jar --spring.profiles.active=prod
```

````

---

### 8.2 Task Documentation

```groovy
// Add descriptions to tasks
task generateDocs {
    description = 'Generates API documentation'
    group = 'documentation'
    
    doLast {
        // Generate docs
    }
}

// List tasks with descriptions
./gradlew tasks

// Output:
// Documentation tasks
// -------------------
// generateDocs - Generates API documentation
````

---

## 9. CI/CD Best Practices

### 9.1 GitHub Actions Example

```yaml
# .github/workflows/build.yml
name: Build

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
        cache: gradle
    
    - name: Make gradlew executable
      run: chmod +x gradlew
    
    - name: Build with Gradle
      run: ./gradlew build --no-daemon --build-cache
      env:
        BUILD_CACHE_URL: ${{ secrets.BUILD_CACHE_URL }}
        BUILD_CACHE_USERNAME: ${{ secrets.BUILD_CACHE_USERNAME }}
        BUILD_CACHE_PASSWORD: ${{ secrets.BUILD_CACHE_PASSWORD }}
    
    - name: Upload test results
      uses: actions/upload-artifact@v3
      if: always()
      with:
        name: test-results
        path: build/test-results/
    
    - name: Publish Test Report
      uses: mikepenz/action-junit-report@v3
      if: always()
      with:
        report_paths: '**/build/test-results/test/TEST-*.xml'
```

---

### 9.2 Build Script for CI

```groovy
// CI-specific configuration
if (System.getenv('CI')) {
    gradle.startParameter.showStacktrace = ShowStacktrace.ALWAYS
    gradle.startParameter.buildCache = true
    
    allprojects {
        tasks.withType(Test) {
            testLogging {
                events "passed", "skipped", "failed"
                exceptionFormat "full"
            }
        }
    }
}
```

---

## 10. Complete Example

### 10.1 Production-Ready Build Configuration

**gradle.properties:**

```properties
# Project
group=com.example
version=1.0.0-SNAPSHOT

# Performance
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.daemon=true
org.gradle.configuration-cache=true
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m

# Console
org.gradle.console=rich
org.gradle.warning.mode=all
```

**settings.gradle:**

```groovy
rootProject.name = 'my-application'

pluginManagement {
    repositories {
        gradlePluginPortal()
        mavenCentral()
    }
}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    
    repositories {
        mavenCentral()
    }
    
    versionCatalogs {
        libs {
            from(files('gradle/libs.versions.toml'))
        }
    }
}

buildCache {
    local {
        enabled = true
        removeUnusedEntriesAfterDays = 30
    }
    
    remote(HttpBuildCache) {
        url = System.getenv('BUILD_CACHE_URL')
        enabled = url != null
        push = System.getenv('CI') != null
        credentials {
            username = System.getenv('BUILD_CACHE_USERNAME')
            password = System.getenv('BUILD_CACHE_PASSWORD')
        }
    }
}

include 'common', 'domain', 'service', 'web'
```

**build.gradle:**

```groovy
plugins {
    id 'java-conventions'
    id 'spring-boot-conventions'
}

dependencies {
    implementation libs.spring.boot.web
    implementation libs.spring.boot.data
    
    runtimeOnly libs.postgresql
    
    testImplementation libs.bundles.testing
}
```

---

## Summary

### Essential Checklist

```
Gradle Wrapper:
  ✓ Commit wrapper files to repository
  ✓ Use ./gradlew (not gradle)
  ✓ Keep wrapper updated
  ✓ Validate distribution URL

Dependency Management:
  ✓ Use version catalogs
  ✓ Lock dependencies
  ✓ Check for updates regularly
  ✓ Use appropriate configurations

Build Scripts:
  ✓ Keep build.gradle clean
  ✓ Use convention plugins
  ✓ Separate concerns
  ✓ Document tasks

Performance:
  ✓ Enable parallel builds
  ✓ Enable build cache
  ✓ Enable configuration cache
  ✓ Declare task inputs/outputs
  ✓ Optimize gradle.properties

Project Structure:
  ✓ Follow standard layout
  ✓ Logical module organization
  ✓ Clear dependencies
  ✓ No circular dependencies

Testing:
  ✓ Parallel test execution
  ✓ Good test logging
  ✓ Separate integration tests
  ✓ Use testcontainers when needed

Security:
  ✓ No hardcoded credentials
  ✓ Use environment variables
  ✓ Dependency verification
  ✓ Keep dependencies updated

Documentation:
  ✓ README with build instructions
  ✓ Task descriptions
  ✓ Architecture documentation
  ✓ Contributing guidelines
```

### Performance Impact

```
Without Best Practices:
  Clean build:      120s
  Incremental:      60s
  No changes:       20s

With Best Practices:
  Clean build:      60s  (50% faster)
  Incremental:      3s   (95% faster)
  No changes:       0.5s (97% faster)
```
